<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario - KPIs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="static/css/styles.css">
<link rel="stylesheet" href="static/css/components.css">
<link rel="stylesheet" href="static/css/kpi.css">
    
       
</head>
<body>
   
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h2><i class="fas fa-chart-line"></i>Gestion DB - Reportes</h2>
            </div>

            <!-- Filters Section -->
            <div class="filters-section">
                <div class="filters-title">
                    <i class="fas fa-filter"></i>
                    Filtros de BÃºsqueda
                </div>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Tipo de Filtro</label>
                        <select id="filterType">
                            <option value="day">Un dÃ­a</option>
                            <option value="range">Rango de dÃ­as</option>
                            <option value="month">Mes</option>
                        </select>
                    </div>
                    <div class="filter-group" id="singleDayFilter">
                        <label>Fecha</label>
                        <input type="date" id="singleDate">
                    </div>
                    <div class="filter-group" id="startDateFilter" style="display:none;">
                        <label>Fecha Inicio</label>
                        <input type="date" id="startDate">
                    </div>
                    <div class="filter-group" id="endDateFilter" style="display:none;">
                        <label>Fecha Fin</label>
                        <input type="date" id="endDate">
                    </div>
                    <div class="filter-group" id="monthFilter" style="display:none;">
                        <label>Mes</label>
                        <input type="month" id="monthSelect">
                    </div>
                    <div class="filter-group">
                        <label>Estado</label>
                        <select id="statusFilter">
                            <option value="">Todos</option>
                            <option value="igual">Igual</option>
                            <option value="faltante-bd">Faltante BD</option>
                            <option value="faltante-cg">Faltante CG</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Estado</label>
                        <input type="text" id="stateFilter" placeholder="Filtrar por estado">
                    </div>
                </div>
                <div class="filter-buttons">
                    <button class="btn btn-primary" onclick="applyFilters()">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                    <button class="btn btn-success" onclick="exportToExcel()">
                        <i class="fas fa-file-excel"></i> Descargar Excel
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()">
                        <i class="fas fa-redo"></i> Limpiar Filtros
                    </button>
                </div>
            </div>

            <!-- Table -->
            <div class="table-card">
                <div class="table-header">
                    <div class="table-title">Registros de TrÃ¡fico y Estado</div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>TrÃ¡fico</th>
                                <th>Esquema</th>
                                <th>Tablas</th>
                                <th>Tipo</th>
                                <th>Estado</th>
                                <th>Diferencia</th>
                                <th>Archivos CG</th>
                                <th>Registros CG</th>
                                <th>Archivos DB</th>
                                <th>Registros DB</th>
                                <th>Dif. Registros</th>
                                <th>Fecha Reproceso</th>
                            </tr>
                        </thead>
                        <tbody id="dataTable">
                            <!-- Data will be inserted here -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button onclick="previousPage()" id="prevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span id="pageInfo">PÃ¡gina 1 de 1</span>
                    <button onclick="nextPage()" id="nextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Details -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-info-circle"></i> Detalles del Registro</h2>
                <span class="close-modal" onclick="closeModal()">&times;</span>
            </div>
            <div class="filters-section">
                <div class="filters-title">
                    <i class="fas fa-filter"></i>
                    Filtros de BÃºsqueda
                </div>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Tipo de Filtro</label>
                        <select id="filterType">
                            <option value="day">Un dÃ­a</option>
                            <option value="range">Rango de dÃ­as</option>
                            <option value="month">Mes</option>
                        </select>
                    </div>
                    <div class="filter-group" id="singleDayFilter">
                        <label>Fecha</label>
                        <input type="date" id="singleDate">
                    </div>
                    <div class="filter-group" id="startDateFilter" style="display:none;">
                        <label>Fecha Inicio</label>
                        <input type="date" id="startDate">
                    </div>
                    <div class="filter-group" id="endDateFilter" style="display:none;">
                        <label>Fecha Fin</label>
                        <input type="date" id="endDate">
                    </div>
                    <div class="filter-group" id="monthFilter" style="display:none;">
                        <label>Mes</label>
                        <input type="month" id="monthSelect">
                    </div>
                    <div class="filter-group">
                        <label>Estado</label>
                        <select id="statusFilter">
                            <option value="">Todos</option>
                            <option value="igual">Igual</option>
                            <option value="faltante-bd">Faltante BD</option>
                            <option value="faltante-cg">Faltante CG</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Estado</label>
                        <input type="text" id="stateFilter" placeholder="Filtrar por estado">
                    </div>
                </div>
                <div class="filter-buttons">
                    <button class="btn btn-primary" onclick="applyFilters()">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                    <button class="btn btn-success" onclick="exportToExcel()">
                        <i class="fas fa-file-excel"></i> Descargar Excel
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()">
                        <i class="fas fa-redo"></i> Limpiar Filtros
                    </button>
                </div>
            </div>
            <div class="detail-grid" id="detailContent">
                <!-- Details will be inserted here -->
            </div>
            <div style="margin-top: 20px; text-align: right;">
                <button class="btn btn-success" onclick="exportDetailToExcel()">
                    <i class="fas fa-file-excel"></i> Exportar Detalle
                </button>
            </div>
        </div>
    </div>
    
    <script src="static/js/auth.js"></script>
    <script src="static/js/components/sidebar.js"></script>
    <script src="static/js/components/user-panel.js"></script>
    <script src="static/js/api.js"></script>
    <script src="static/js/app.js"></script>
    <script src="static/js/kpi.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('ðŸš€ kpis.html: Inicializando...');
            
            await SidebarManager.load();
            await UserPanelManager.load();
            SidebarManager.setActivePage('kpis');
            
            if (typeof kpisManager !== 'undefined') {
                kpisManager.init();
            }
            
            console.log('ðŸŽ‰ KPIs inicializado');
        });
    </script>
  
   

    
</body>
</html>